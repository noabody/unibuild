diff a/dolphin-emu/PKGBUILD b/dolphin-emu/PKGBUILD
index e69de29..a84929e 100644
--- a/dolphin-emu/PKGBUILD	1969-12-31 17:00:00.000000000 -0700
+++ b/dolphin-emu/PKGBUILD	1969-12-31 17:00:00.000000000 -0700
@@ -0,0 +1,84 @@
+# Maintainer: Noa Body <noabody@archlinux.org>
+
+pkgbase=dolphin-emu
+pkgname=("$pkgbase" "$pkgbase"-nogui)
+pkgver=5.0.r17746.8efd7833e5
+pkgrel=1
+epoch=1
+pkgdesc='A GameCube/Wii emulator'
+arch=(x86_64)
+url=http://www.dolphin-emu.org
+license=(GPL2)
+depends=(
+  alsa-lib bluez-libs enet ffmpeg fmt hidapi libevdev
+  libgl libpng libxi libxrandr lzo miniupnpc mbedtls
+  pugixml qt6-base sfml xxhash zlib
+)
+makedepends=(cmake git libglvnd python)
+optdepends=('pulseaudio: PulseAudio backend')
+options=(!emptydirs)
+source=("$pkgbase"::git+https://github.com/"$pkgbase"/dolphin.git
+        mgba::git+https://github.com/mgba-emu/mgba.git
+        git+https://github.com/mozilla/cubeb.git
+        git+https://github.com/KhronosGroup/SPIRV-Cross.git
+        git+https://github.com/randy408/libspng.git
+        git+https://github.com/zlib-ng/zlib-ng.git
+        "$pkgname"-vma::git+https://github.com/GPUOpen-LibrariesAndSDKs/VulkanMemoryAllocator.git)
+sha256sums=('SKIP'
+            'SKIP'
+            'SKIP'
+            'SKIP'
+            'SKIP'
+            'SKIP'
+            'SKIP')
+
+pkgver() {
+  cd "$pkgbase"
+  git describe | sed 's/-/.r/; s/-g/./'
+#  printf "%s.r%s.g%s" 5.1 "$(git rev-list "$(git rev-list --tags --no-walk --max-count=1)"..HEAD --count)" "$(git rev-parse --short HEAD)"
+}
+
+prepare() {
+  test ! -d "build" || rm -rf build
+  cd "$pkgbase"
+  for _mod in Externals/cubeb/cubeb~cubeb Externals/libspng/libspng~libspng Externals/mGBA/mgba~mgba Externals/spirv_cross/SPIRV-Cross~SPIRV-Cross Externals/zlib-ng/zlib-ng~zlib-ng Externals/VulkanMemoryAllocator~"$pkgname"-vma ; do
+    git submodule init "${_mod%~*}"
+    git config submodule."${_mod%~*}".url "$srcdir"/"${_mod#*~}"
+    git -c protocol.file.allow=always submodule update "${_mod%~*}"
+  done
+}
+
+build() {
+  cmake -S "$pkgbase" -B build \
+    -DCMAKE_INSTALL_PREFIX=/usr \
+    -DCMAKE_INSTALL_LIBDIR=/usr/lib \
+    -DCMAKE_CXX_FLAGS="${CXXFLAGS} -fpermissive" \
+    -DENABLE_QT=TRUE \
+    -DUSE_SHARED_ENET=TRUE \
+    -DXXHASH_FOUND=TRUE
+  cmake --build build -j$(nproc)
+}
+
+package_dolphin-emu() {
+  provides=("$pkgname")
+  replaces=("$pkgname"-git)
+  conflicts=("$pkgname"-git)
+
+  DESTDIR="$pkgdir" cmake --build build --target install
+  rm -f "$pkgdir"/usr/bin/"$pkgname"-nogui
+  rm -rf "$pkgdir"/usr/{include,lib/libdiscord-rpc.a,share/man/man6/"$pkgname"-nogui.6}
+
+  install -Dm 644 "$pkgname"/Data/51-usb-device.rules -t "$pkgdir"/usr/lib/udev/rules.d/
+}
+
+package_dolphin-emu-nogui() {
+  pkgdesc="$pkgdesc - no GUI"
+  depends=("$pkgbase" fmt xxhash)
+  provides=("$pkgbase"-cli "$pkgname")
+  conflicts=("$pkgbase"-cli "$pkgname")
+
+  install -dm 755 "$pkgdir"/usr/{bin,share/man/man6}
+  install -m 755 build/Binaries/"$pkgname" "$pkgdir"/usr/bin/
+  ln -rsf "$pkgdir"/usr/bin/"$pkgname" "$pkgdir"/usr/bin/"$pkgbase"-cli
+  install -Dm 644 "$pkgbase"/Data/"$pkgname".6 "$pkgdir"/usr/share/man/man6/"$pkgname".6
+}
